<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .error {
            color: red
        }
    </style>
</head>

<body>
    <form action="#" method="post" name="frm" onsubmit="return checkData()">
        <label for="">Name:</label>
        <input type="text" name="name" id="name">
        <span id="nameErr" class="error"></span>
        <br><br>
        <label for="">Mobile No:</label>
        <input type="text" name="age" id="age">
        <span id="ageErr" class="error"></span>
        <br><br>
        <label for="">Email:</label>
        <input type="text" name="email" id="email">
        <span id="emailErr" class="error"></span>
        <br><br>
        <label for="">Password:</label>
        <input type="password" name="pwd" id="pwd">
        <span id="pwdErr" class="error"></span>
        <br><br>
        <input type="submit" value="Save">
    </form>
    <script>
        let status = 0
        const checkData = () => {
            document.getElementById('nameErr').innerHTML = ""
            document.getElementById('ageErr').innerHTML = ""
            document.getElementById('emailErr').innerHTML = ""
            document.getElementById('pwdErr').innerHTML = ""

            let nm = document.frm.name.value
            let age = document.frm.age.value
            let email = document.frm.email.value
            let pwd = document.frm.pwd.value
            let namePtn = /[A-Za-z]$/
            if (nm == "") {
                document.getElementById('nameErr').innerHTML = "Please enter name"
                status = 1
            } else if (nm.length < 2 || nm.length > 10) {
                document.getElementById('nameErr').innerHTML = "Name must be 2 to 10 characters"
                status = 1
            } else if (!namePtn.test(nm)) {
                document.getElementById('nameErr').innerHTML = "Please enter only alphabets"
                status = 1
            }
            let numPtn = /[0-9]{10,12}$/

            if (age == "") {
                document.getElementById('ageErr').innerHTML = "Please enter age"
                status = 1
            } else if (!numPtn.test(age)) {
                document.getElementById('ageErr').innerHTML = "Please enter only digits"
                status = 1
            }
            let emPtn = /^[A-Za-z0-9]+@[A-Za-z]+.[A-Za-z]{2,3}$/



            if (email == "") {
                document.getElementById('emailErr').innerHTML = "Please enter email"
                status = 1
            } else if (!emPtn.test(email)) {
                document.getElementById('emailErr').innerHTML = "Please enter valid email"
                status = 1
            }
            var caps = /[A-Z]/
            var small = /[a-z]/
            var dgt = /[0-9]/
            var spc = /[@#_%!]/
            if (pwd == "") {
                document.getElementById('pwdErr').innerHTML = "Please enter password"
                status = 1
            } else if (pwd.length < 8) {
                document.getElementById('pwdErr').innerHTML = "Password must be 8 characters or more than"
                status = 1
            }
            // else if (!caps.test(pwd) || !small.test(pwd) || !dgt.test(pwd) || !spc.test(pwd)) {
            //     document.getElementById('pwdErr').innerHTML = "Password must contain 1capital,1 small ,1 digit & 1 special character"
            //     status = 1
            // }
            else {
                if (!caps.test(pwd)) {
                    document.getElementById('pwdErr').innerHTML = "Password must contain 1capital"
                    status = 1
                }
                if (!small.test(pwd)) {
                    document.getElementById('pwdErr').innerHTML += "Password must contain 1 small "
                    status = 1
                }
                if (!dgt.test(pwd)) {
                    document.getElementById('pwdErr').innerHTML += "Password must contain 1 digit "
                    status = 1
                }
                if (!spc.test(pwd)) {
                    document.getElementById('pwdErr').innerHTML += "Password must contain  1 special character"
                    status = 1
                }
            }

            if (status == 0) {
                return true
            } else {
                return false
            }
        }
    </script>
</body>

</html>